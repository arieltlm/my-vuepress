{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{157:function(t,e,s){\"use strict\";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"content\"},[t._m(0),t._m(1),s(\"p\",[s(\"a\",{attrs:{href:\"https://www.xiuyuan.info/?p=230\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"VUE开发请求本地数据的配置，旧版本dev-server.js，新版本webpack.dev.conf.js\"),s(\"OutboundLink\")],1)]),s(\"p\",[t._v(\"在此文件中增加：\")]),t._m(2),s(\"p\",[t._v(\"上面的第一行是引入json数据所在的地址，第二和第三行是分别得到相应的数据。\")]),s(\"p\",[t._v(\"data.json一般放在index同级下，自认为可以放在别的地方，此时也就第一行有相应的路径对应。\")]),t._m(3),s(\"p\",[t._v(\"上述json文件中，有三组数据，seller、rating、goods，这都可以在webpack.dev.conf.js中引入使用\")]),s(\"p\",[t._v(\"同时在webpack.dev.conf.js中，需要做这样的配置才可在其他文件中进行请求，在devServer最后增加下面的代码：\")]),t._m(4),s(\"p\",[t._v(\"此处就实现了get请求，在浏览器框口输入http://localhost:8080/api/seller 就可以看到json数据了。\\n要实现post请求：\")]),t._m(5),t._m(6),t._m(7),s(\"p\",[t._v(\"可以在webpack.dev.conf.js文件中：\")]),t._m(8),s(\"p\",[t._v(\"然后在下面的before这里就成：\")]),t._m(9),s(\"p\",[t._v(\"同样可以用下面的方法请求。\")]),s(\"p\",[t._v(\"在文件中，则可以进行对此接口数据进行请求，请求方式此处列举两个：\\n均可以在network中进行查看\")]),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),s(\"p\",[t._v(\"在Vue1.0的时候有一个官方推荐的 ajax 插件 vue-resource，但是自从 Vue 更新到 2.0 之后，官方就不再更新 vue-resource。\")]),t._m(16),t._m(17),t._m(18),t._m(19),s(\"p\",[s(\"a\",{attrs:{href:\"http://www.jb51.net/article/103159.htm\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"谈谈Vue.js——vue-resource全攻略\"),s(\"OutboundLink\")],1)]),s(\"p\",[t._v(\"支持的HTTP方法\")]),s(\"p\",[t._v(\"vue-resource的请求API是按照REST风格设计的，它提供了7种请求API：\")]),t._m(20),s(\"p\",[t._v(\"除了jsonp以外，另外6种的API名称是标准的HTTP方法。当服务端使用REST API时，客户端的编码风格和服务端的编码风格近乎一致，这可以减少前端和后端开发人员的沟通成本。\")]),s(\"p\",[t._v(\"客户端请求方法\\t服务端处理方法\")]),t._m(21),t._m(22),s(\"p\",[s(\"a\",{attrs:{href:\"https://www.cnblogs.com/zhouyangla/p/6753673.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"vue2.0项目实战（3）使用axios发送请求\"),s(\"OutboundLink\")],1),t._v(\"\\n安装：\")]),t._m(23),s(\"p\",[t._v(\"axios并不是插件，所以不必使用\"),s(\"code\",[t._v(\"Vue.use()\")]),t._v(\",而是在什么地方使用时引用即可;\\n参考\"),s(\"a\",{attrs:{href:\"https://www.cnblogs.com/zhouyangla/p/6753673.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"vue2.0项目实战（3）使用axios发送请求\"),s(\"OutboundLink\")],1)]),s(\"p\",[t._v(\"下面是我的实际实践结果，代码已经上传，可参考\"),s(\"a\",{attrs:{href:\"https://github.com/arieltlm/vue-test/tree/master/liteMind-vue\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"github上代码\"),s(\"OutboundLink\")],1),t._v(\"\\n(刚开始由于我在测试学习过程中使用了vue-resource,所以$http已经占用，所以在main.js中增加的原型链一直无法使用，得到了以下的代码可行)\")]),t._m(24),s(\"p\",[t._v(\"首先需要引入axios：\")]),t._m(25),s(\"p\",[t._v(\"后面使用的就是\")]),t._m(26),s(\"p\",[t._v(\"而文章一开始所说的在main.js中添加原型链也可用(避免重复，我使用了$http1)：\")]),t._m(27),t._m(28),t._m(29),s(\"p\",[t._v(\"此处想提醒自己，this就指向vue。\")]),s(\"p\",[t._v(\"可以封装axio方法：\")]),t._m(30),s(\"p\",[t._v(\"如此使用起来就和$.ajax一样了，同时也可以在vue中引入jqu'ery插件这样就可以使用$.ajax了。\")]),t._m(31),s(\"p\",[t._v(\"创建mockexpress.js文件：\")]),t._m(32),t._m(33),s(\"p\",[t._v(\"然后在我们的前端项目中使用：\\n首先要解决跨域问题，使用代理，vue-cli已经写好了在config/index.js中写代理：\")]),t._m(34),s(\"p\",[t._v(\"然后同时启动前端服务和后端数据服务，如此更改package.json中的script。\")]),t._m(35),t._m(36),t._m(37),s(\"p\",[t._v(\"可参考\"),s(\"a\",{attrs:{href:\"https://www.jianshu.com/p/ccd53488a61b\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"vue-cli 本地开发mock数据使用方法\"),s(\"OutboundLink\")],1)]),t._m(38),t._m(39),s(\"p\",[t._v(\"接着项目目录下创建mock文件夹，在文件夹中创建db.json和mock-test.js，还有将所有post请求转为get请求的post-to-get.js\")]),s(\"p\",[t._v(\"其中db.json中存放json数据：\")]),t._m(40),s(\"p\",[t._v(\"对应的在package.json中在script中增加mock的启动项：\")]),t._m(41),s(\"p\",[t._v(\"第一句的意思是监测路径mock/db.json,如此就可以在这里更改文件存放位置以及文件名字了。\\n第二句是为了mock起的服务和vue命令服务同时启动。\")]),s(\"p\",[t._v(\"然后在命令行中：\")]),t._m(42),t._m(43),t._m(44),t._m(45),s(\"p\",[t._v(\"可以在命令行中使用json-server mock/mock-test.js来启动这个服务，然后就可以通过http://localhost:3000/tasklists来访问数据\")]),s(\"p\",[t._v(\"假如使用的是这个数据，那么在package.json中的script中的mock项可以修改为：\")]),t._m(46),t._m(47),t._m(48),s(\"p\",[t._v(\"此时配置项可更改为：\")]),t._m(49),t._m(50),s(\"p\",[t._v(\"在 config/index.js 的 proxyTable 将请求映射到 http://localhost:3000\")]),t._m(51),s(\"p\",[t._v(\"在组件中进行请求：\")]),t._m(52),s(\"p\",[t._v(\"启动：\")]),t._m(53),s(\"p\",[t._v(\"假如配置到db.json时前两个请求就成功，假如配置到mock-test.js第三个请求就是成功的。\")]),s(\"hr\"),t._m(54),s(\"p\",[t._v(\"如果我们只为了简单的练习前端开发，数据也有前端提供，不牵扯后端服务，那么创建文件mockData.js\")]),t._m(55),s(\"p\",[t._v(\"在main.js中：\")]),t._m(56),s(\"p\",[t._v(\"然后在需要的地方进行请求就可以了。\")]),t._m(57),s(\"p\",[t._v(\"切注意请求后的this的指向，如果想改变vue中的数据，那么一定要开始将this先赋给别的然后再用。\")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e(\"h1\",{attrs:{id:\"vue中请求本地数据\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#vue中请求本地数据\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" vue中请求本地数据\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h2\",{attrs:{id:\"_1-修改webpack-dev-conf-js配置（用express）（只引入json文件-或者在配置中直接用mock-js）\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-修改webpack-dev-conf-js配置（用express）（只引入json文件-或者在配置中直接用mock-js）\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 1.修改webpack.dev.conf.js配置（用express）（只引入json文件,或者在配置中直接用mock.js）\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"var appData = require('../data.json')//加载本地数据文件\\nvar seller = appData.seller//获取对应的本地数据\\nvar ratings = appData.ratings\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v('//data.json\\n{\\n  \"seller\": {\\n    \"name\": \"粥品香坊（回龙观）\",\\n    \"description\": \"蜂鸟专送\",\\n    \"deliveryTime\": 38,\\n    \"score\": 4.2,\\n    \"serviceScore\": 4.1,\\n    \"supports\": [\\n      {\\n        \"type\": 0,\\n        \"description\": \"在线支付满28减5\"\\n      },\\n      {\\n        \"type\": 1,\\n        \"description\": \"VC无限橙果汁全场8折\"\\n      }\\n    ],\\n    \"infos\": [\\n      \"该商家支持发票,请下单写好发票抬头\",\\n      \"品类:其他菜系,包子粥店\",\\n      \"北京市昌平区回龙观西大街龙观置业大厦底商B座102单元1340\",\\n      \"营业时间:10:00-20:30\"\\n    ]\\n  },\\n  \"ratings\":{\\n      \"id\":1,\"name\":\"wangzi\",\"age\":24\\n  },\\n  \"goods\":[\\n       {\"id\":1,\"name\":\"wangzi\",\"age\":24},\\n       {\"id\":2,\"name\":\"lisi\",\"age\":44},\\n       {\"id\":3,\"name\":\"zhangsan\",\"age\":22}\\n  ]\\n}\\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"before(app) {\\n    app.get('/api/seller', (req, res) => {\\n        res.json({\\n          errno: 0,\\n          data: seller\\n        })//接口返回json数据，上面配置的数据seller就赋值给data请求后调用\\n    }),\\n    app.get('/api/goods', (req, res) => {\\n        res.json({\\n          errno: 0,\\n          data: goods\\n        })\\n    }),\\n    app.get('/api/ratings', (req, res) => {\\n        res.json({\\n          errno: 0,\\n          data: ratings\\n        })\\n    })\\n}\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"app.post('/api/foods', function (req, res) { // 注意这里改为post就可以了\\n  res.json({\\n    errno: 0,\\n    data: foods\\n  });\\n})\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"p\",[this._v(\"注意每次更改配置后，都必须重新启动，\"),e(\"code\",[this._v(\"npm run dev\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h4\",{attrs:{id:\"补充：如果我们不从引入外部的json文件，直接用mock-js生成数据。\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#补充：如果我们不从引入外部的json文件，直接用mock-js生成数据。\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 补充：如果我们不从引入外部的json文件，直接用mock.js生成数据。\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"var Mock = require('mockjs');\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v('before(app){\\n    app.get(\\'/api/s1\\', (req, res) => {\\n        res.json(Mock.mock({\\n            \"status\": 200,\\n            \"data|1-9\": [{\\n                \"name|5-8\": /[a-zA-Z]/,\\n                \"id|+1\": 1,\\n                \"value|0-500\": 20\\n            }]\\n        }))\\n    })\\n}\\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"ul\",[e(\"li\",[this._v(\"使用es6增加的fetch请求：\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"methods: {\\n  \\tgetPrice () {\\n    \\tfetch('/api/seller')\\n    \\t.then(response => response.json())\\n\\t\\t.then(function(datas){\\n\\t\\t\\tconsole.log(datas);\\n\\t\\t})\\n  \\t},\\n    postRatings (){\\n       \\tfetch('/api/goods',{method:'post'})\\n    \\t.then(response => response.json())\\n\\t\\t.then(function(datas){\\n\\t\\t\\tconsole.log(datas);\\n\\t\\t})\\n       }\\n    },\\ncreated () {\\n  this.getPrice(),\\n  this.postRatings()\\n}\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"ul\",[e(\"li\",[this._v(\"通过vue-resource插件中的this.$http.get(‘url’).then()获取\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"methods: {\\n    getRatings (){\\n  \\t    // 这个需要vue-resource插件\\n  \\t    this.$http.get('/api/ratings')\\n        .then((res) => {\\n            console.log(res)\\n            console.log(res.body);//获取数据\\n        })\\n     },\\n     postR (){\\n     \\tthis.$http.post('/api/goods')\\n        .then((res) => {\\n            console.log(res)\\n            console.log(res.body);//获取数据\\n        })\\n     },\\n},\\ncreated () {\\n  this.getRatings(),\\n  this.postR()\\n}\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"ul\",[e(\"li\",[this._v(\"vue-resource在2.0之后不再更新，所以使用axios来进行请求：\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"此处扩展vue-resource插件使用：\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#此处扩展vue-resource插件使用：\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 此处扩展vue-resource插件使用：\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"blockquote\",[e(\"p\",[this._v(\"1.安装vue-resource到项目中，找到当前项目\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"npm install vue-resource --save\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"blockquote\",[e(\"p\",[this._v(\"2.安装完毕后，在main.js中导入，如下所示：\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"import  VueResource  from 'vue-resource'\\n\\nVue.use(VueResource) \\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"ul\",[e(\"li\",[this._v(\"get(url, [options])\")]),e(\"li\",[this._v(\"head(url, [options])\")]),e(\"li\",[this._v(\"delete(url, [options])\")]),e(\"li\",[this._v(\"jsonp(url, [options])\")]),e(\"li\",[this._v(\"post(url, [body], [options])\")]),e(\"li\",[this._v(\"put(url, [body], [options])\")]),e(\"li\",[this._v(\"patch(url, [body], [options])\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"ul\",[e(\"li\",[this._v(\"this.$http.get(...)\\tGetxxx\")]),e(\"li\",[this._v(\"this.$http.post(...)\\tPostxxx\")]),e(\"li\",[this._v(\"this.$http.put(...)\\tPutxxx\")]),e(\"li\",[this._v(\"this.$http.delete(...)\\tDeletexxx\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"此处扩展使用axios的使用方法\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#此处扩展使用axios的使用方法\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 此处扩展使用axios的使用方法\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"npm install axios\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"//home.vue\\n\\n<script>\\n\\timport axios from 'axios'\\n\\texport default{\\n\\t\\tmethods:{\\n\\t\\t    getpostAxios (){\\n\\t\\t    \\taxios.get('/api/ratings')\\n\\t\\t    \\t.then(res => {\\n\\t\\t    \\t\\tconsole.log(res.data);\\n\\t\\t    \\t})\\n\\t\\t    \\taxios.post('./api/goods',\\n\\t\\t    \\t{\\n\\t\\t    \\t\\tdata:1,\\n\\t\\t    \\t\\tparams:233\\n\\t\\t    \\t})\\n\\t\\t    \\t.then(res => {\\n\\t\\t    \\t\\tconsole.log(11111);\\n\\t\\t    \\t\\tconsole.log(res.data);\\n\\t\\t    \\t})\\n\\t\\t    },\\n\\t\\t    axiosAllTest (){\\n\\t\\t    \\tfunction getUserAccount() {\\n\\t\\t    \\t  \\treturn axios.get('/api/seller')\\n\\t    \\t  \\t\\t\\t.then(res => {\\n\\t    \\t  \\t\\t\\t\\tconsole.log(2222);\\n\\t    \\t  \\t\\t\\t\\tconsole.log(res);\\n\\t    \\t  \\t\\t\\t})\\n\\t\\t    \\t}\\n\\t\\t    \\tfunction getUserPermissions() {\\n\\t\\t    \\t  return axios.get('/api/ratings')\\n\\t\\t    \\t  \\t.then(res => {\\n    \\t  \\t\\t\\t\\tconsole.log(333333);\\n    \\t  \\t\\t\\t\\tconsole.log(res);\\n    \\t  \\t\\t\\t})\\n\\t\\t    \\t  \\t\\n\\t\\t    \\t}\\n\\t\\t    \\taxios.all([getUserAccount(), getUserPermissions()])\\n\\t\\t    \\t.then(axios.spread(function (acct, perms){\\n\\t\\t    \\t    //两个请求现已完成\\n\\t\\t    \\t    console.log(acct);//undefined\\n\\t\\t    \\t    console.log(perms);//undefined\\n\\t\\t    \\t    console.log('complete');\\n\\t\\t    \\t}));\\n\\t\\t    }\\n\\t\\t    \\n\\t\\t},\\n\\t\\tcreated (){\\n\\t\\t\\tthis.getpostAxios();\\n\\t\\t\\tthis.axiosAllTest();\\n\\t\\t}\\n\\t}\\n\\t\\n<\\/script>\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"import axios from 'axios'\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"ul\",[e(\"li\",[this._v(\"axios.request（config）\")]),e(\"li\",[this._v(\"axios.get（url [，config]）\")]),e(\"li\",[this._v(\"axios.delete（url [，config]）\")]),e(\"li\",[this._v(\"axios.head（url [，config]）\")]),e(\"li\",[this._v(\"axios.post（url [，data [，config]]）\")]),e(\"li\",[this._v(\"axios.put（url [，data [，config]]）\")]),e(\"li\",[this._v(\"axios.patch（url [，data [，config]]）\")])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"import axios from 'axios'\\nVue.prototype.$http1 = axios\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"//entity.vue中\\nmethods:{\\n\\tgetData(){\\n\\t\\tconsole.log(this);\\n    \\tthis.$http1.get('/api/seller')\\n\\t  \\t.then(function (response) {\\n\\t  \\t\\tconsole.log(1123);\\n\\t  \\t\\tconsole.log(response.data);\\n\\t  \\t})\\n\\t  \\t.catch(function (error) {\\n\\t    \\tconsole.log(error);\\n\\t  \\t});\\n    }\\n},\\ncreated (){\\n\\tthis.getData();\\n}\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"p\",[e(\"img\",{attrs:{src:\"http://upload-images.jianshu.io/upload_images/6230931-21b7454b78e65d4c..png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\",alt:\"WX20180226-163852@2x.png\"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"import axios from 'axios'\\nclass MlTools {\\n    /**\\n     * 封装全局ajax\\n     * @param param\\n     */\\n    static ajax(param) {\\n        if (param.type === 'post') {\\n            axios({\\n                method: 'post',\\n                url: param.url,\\n                data:param.data\\n            }).then((res) => {\\n                const result = typeof(res.data) =='object' ? res.data : JSON.parse(res.data);\\n                param.success(result);\\n            }, (err) => {\\n                const error = typeof(err.data) =='object' ? err.data : JSON.parse(err.data);\\n                param.error(error.message);\\n            })\\n        } else if (param.type === 'get') {\\n            axios({\\n                method: 'get',\\n                url:param.url\\n            }).then((res) => {\\n                const result = typeof(res.data) =='object' ? res.data : JSON.parse(res.data);\\n                param.success(result);\\n            }, (err) => {\\n                const error = typeof(err.data) =='object' ? err.data : JSON.parse(err.data);\\n                param.error(error);\\n            })\\n        }\\n    }\\n}\\n\\nexport default MlTools;\\n\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h2\",{attrs:{id:\"补充：express起后台服务，与mock-js生成数据\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#补充：express起后台服务，与mock-js生成数据\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 补充：express起后台服务，与mock.js生成数据\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v('var Mock = require(\\'mockjs\\');\\nvar express = require(\\'express\\');\\n\\nlet app = express();\\n\\napp.listen(\\'8090\\');\\napp.all(\\'/api1/tests\\', function(req, res) {\\n    res.json(Mock.mock({\\n        \"status\": 200,\\n        \"data|5\": [{\\n            \"name|5-8\": /[a-zA-Z]/,\\n            \"id|+1\": 1,\\n            \"value|0-500\": 20\\n        }]\\n    }));\\n});\\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"p\",[this._v(\"此时命令行中\"),e(\"code\",[this._v(\"node mockexpress.js\")]),this._v(\",然后便可以在http://localhost:8090/api1/tests便可以得到生成的数据\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"proxyTable: {\\n        '/api1/':{\\n            target:'http://localhost:8090',\\n            changeOrigin:true,\\n        }\\n    },\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v('\"dev\": \"webpack-dev-server --inline --progress --config build/webpack.dev.conf.js  & node src/common/Mock/Mockexpress.js\",\\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"p\",[e(\"code\",[this._v(\"npm run dev\")]),this._v(\"即可启动，并可以进行请求数据处理。\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h2\",{attrs:{id:\"_2-使用json-server-搭建mock服务器\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-使用json-server-搭建mock服务器\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 2.使用json server 搭建mock服务器\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"p\",[this._v(\"首先安装\"),e(\"code\",[this._v(\"json-server\")]),this._v(\"(注意全局安装，mac上要加上sudo)\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"npm install -g json-server\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v('{\\n  \"posts\": [\\n    { \"id\": 1, \"title\": \"json-server\", \"author\": \"typicode\" }\\n  ],\\n  \"comments\": [\\n    { \"id\": 1, \"body\": \"some comment\", \"postId\": 1 }\\n  ],\\n  \"profile\": { \"name\": \"typicode\" }\\n}\\n\\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v('\"mock\": \"json-server --watch mock/db.json\",\\n\"mockdev\": \"npm run mock & npm run dev\"\\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"npm run mock\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"p\",[this._v(\"此时在浏览器中打开http://localhost:3000/可得到\"),e(\"img\",{attrs:{src:\"http://upload-images.jianshu.io/upload_images/6230931-6c6c47cced4adadb..png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\",alt:\"1651860-349bfc482aba7065.png\"}}),this._v(\"\\n此时可以分别访问：http://localhost:3000/posts,http://localhost:3000/comments,http://localhost:3000/profile 即返回数据\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"p\",[this._v(\"文章中使用fake.js制作数据的，而我们已经对mock.js熟悉了，所以使用mock.js来产生多个假数据：\\n前面已经使用\"),e(\"code\",[this._v(\"npm install mock\")]),this._v(\"安装了mock.js,则\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"//mock-test.js\\nmodule.exports = function () {\\n\\tlet Mock=require('mockjs');\\n\\n\\tvar bd = Mock.mock({\\n\\t\\t'bodyData|15':[\\n\\t       {   \\n\\t           'id|+1':1,\\n\\t           'methods|1':[\\\"火车频次战法\\\",\\\"飞机频次战法\\\",\\\"汽车频次战法\\\"],\\n\\t           'hasContent|1-2':true\\n\\t       }]\\n\\t});\\n\\t\\t\\n\\n\\treturn{\\n\\t\\ttasklists:bd\\n\\t}\\n}\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v('\"mock\":\"json-server --watch mock/mock-test.js\"\\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"p\",[this._v(\"在开发过程中，有时候想直接模拟获取POST请求返回结果，可以添加 express 中间件 \"),e(\"strong\",[this._v(\"将POST请求转为GET请求\")]),this._v(\"：\\n在mock文件夹下生成post-to-get.js文件：\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v('module.exports = function (req, res, next) {\\n  req.method = \"GET\";\\n  next();\\n}\\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v('\"mock\": \"json-server --watch mock/db.json --m mock/post-to-get.js\",\\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h3\",{attrs:{id:\"下面说一下代理，接口写好了，那么如何请求呢？\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#下面说一下代理，接口写好了，那么如何请求呢？\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 下面说一下\"),e(\"strong\",[this._v(\"代理\")]),this._v(\"，接口写好了，那么如何请求呢？\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"proxyTable: {\\n    '/api1/':{\\n        target:'http://localhost:3000',\\n        changeOrigin:true,\\n        pathRewrite:{\\n            '^/api1':''\\n        }\\n    }\\n},\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"methods:{\\n    mockReq (){\\n    \\taxios.get('/api1/posts')\\n    \\t.then(res => {\\n    \\t\\tconsole.log('mock server');\\n    \\t\\tconsole.log(res.data);\\n    \\t})\\n    \\taxios.post('/api1/comments')\\n    \\t.then(res => {\\n    \\t\\tconsole.log('mock server1');\\n    \\t\\tconsole.log(res.data);\\n    \\t})\\n    \\taxios.get('/api1/tasklists')\\n    \\t.then(res => {\\n    \\t\\tconsole.log('mock server2');\\n    \\t\\tconsole.log(res.data);\\n    \\t})\\n    }\\n    \\n},\\ncreated (){\\n\\tthis.mockReq();\\n}\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"npm run mockdev\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"h2\",{attrs:{id:\"_3-纯前端请求根目录的本地数据\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-纯前端请求根目录的本地数据\",\"aria-hidden\":\"true\"}},[this._v(\"#\")]),this._v(\" 3. 纯前端请求根目录的本地数据\")])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"import Mock from 'mockjs';\\n\\nMock.mock('/lists','get',function(){\\n\\tvar lists = Mock.mock({\\n\\t\\t\\\"result|15\\\":[\\n\\t\\t\\t{\\n\\t\\t\\t\\t\\\"id|+1\\\":1,\\n\\t\\t\\t\\t\\\"title|1\\\":['科目二第07考点马路','科目二第01考点马路','科目二第08考点马路','科目二第09考点'],\\n\\t\\t\\t\\t\\\"desc|0-1\\\":'@county(true)'\\n\\t\\t\\t}\\n\\t\\t]\\n\\t})\\n\\n\\treturn {\\n\\t\\tlists\\n\\t}\\n})\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"require('./assets/mock.js');\\n//完整点可以使用：\\n//开发环境加载mock数据\\nif(process.env.NODE_ENV == 'development'){\\n    require('./assets/mock.js');\\n}\\n\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[this._v(\"mockData(){\\n    let self = this;\\n     axios.get('/lists')\\n     .then(res => {\\n        console.log(res.data);\\n        self.examinationLists = res.data.lists.result;\\n     })\\n},\\n\")])])])}],!1,null,null,null);e.default=a.exports}}]);","extractedComments":[]}