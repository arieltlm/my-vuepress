<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>兿芝梅 | 前端爱好者学习周刊：第8期</title>
    <meta name="description" content="只有出发，总会到达；只有出发，才会到达！">
    <link rel="shortcut icon" href="/my-blog/images/favicon.ico">
  <link rel="stylesheet" href="/my-blog/style/style.css">
    
    <link rel="preload" href="/my-blog/assets/css/0.styles.2be7843c.css" as="style"><link rel="preload" href="/my-blog/assets/js/app.fe075ac2.js" as="script"><link rel="preload" href="/my-blog/assets/js/16.b1b1a09c.js" as="script"><link rel="prefetch" href="/my-blog/assets/js/1.f279f434.js"><link rel="prefetch" href="/my-blog/assets/js/2.734c39d0.js"><link rel="prefetch" href="/my-blog/assets/js/3.70395823.js"><link rel="prefetch" href="/my-blog/assets/js/4.969ff339.js"><link rel="prefetch" href="/my-blog/assets/js/5.b777bbc9.js"><link rel="prefetch" href="/my-blog/assets/js/6.e7b5f9b9.js"><link rel="prefetch" href="/my-blog/assets/js/7.d55eea1c.js"><link rel="prefetch" href="/my-blog/assets/js/8.655454aa.js"><link rel="prefetch" href="/my-blog/assets/js/9.902202b1.js"><link rel="prefetch" href="/my-blog/assets/js/10.875516e9.js"><link rel="prefetch" href="/my-blog/assets/js/11.1cb7dda9.js"><link rel="prefetch" href="/my-blog/assets/js/12.7e9f76d7.js"><link rel="prefetch" href="/my-blog/assets/js/13.f6a7620a.js"><link rel="prefetch" href="/my-blog/assets/js/14.56a8f9d2.js"><link rel="prefetch" href="/my-blog/assets/js/15.6ead0a95.js"><link rel="prefetch" href="/my-blog/assets/js/17.bdacf7d1.js"><link rel="prefetch" href="/my-blog/assets/js/18.3fb009ef.js"><link rel="prefetch" href="/my-blog/assets/js/19.bcced60d.js"><link rel="prefetch" href="/my-blog/assets/js/20.d7ebbca2.js"><link rel="prefetch" href="/my-blog/assets/js/21.33f3b9ac.js"><link rel="prefetch" href="/my-blog/assets/js/22.fd1d6368.js"><link rel="prefetch" href="/my-blog/assets/js/23.25a851e9.js"><link rel="prefetch" href="/my-blog/assets/js/24.d0bbc48c.js"><link rel="prefetch" href="/my-blog/assets/js/25.4dac6866.js"><link rel="prefetch" href="/my-blog/assets/js/26.7218d8e3.js"><link rel="prefetch" href="/my-blog/assets/js/27.5dd19cb7.js"><link rel="prefetch" href="/my-blog/assets/js/28.7b2da517.js"><link rel="prefetch" href="/my-blog/assets/js/29.a7e42922.js"><link rel="prefetch" href="/my-blog/assets/js/30.baf6d247.js"><link rel="prefetch" href="/my-blog/assets/js/31.28a96961.js"><link rel="prefetch" href="/my-blog/assets/js/32.afd7551d.js"><link rel="prefetch" href="/my-blog/assets/js/33.f44f220e.js"><link rel="prefetch" href="/my-blog/assets/js/34.687ed3d4.js"><link rel="prefetch" href="/my-blog/assets/js/35.25b904d8.js"><link rel="prefetch" href="/my-blog/assets/js/36.333c45c3.js"><link rel="prefetch" href="/my-blog/assets/js/37.c0b986e4.js"><link rel="prefetch" href="/my-blog/assets/js/38.a2fd246a.js"><link rel="prefetch" href="/my-blog/assets/js/39.b2e34052.js"><link rel="prefetch" href="/my-blog/assets/js/40.c28543c8.js"><link rel="prefetch" href="/my-blog/assets/js/41.6e6bac5a.js"><link rel="prefetch" href="/my-blog/assets/js/42.3580537f.js"><link rel="prefetch" href="/my-blog/assets/js/43.50fddf95.js"><link rel="prefetch" href="/my-blog/assets/js/44.234eb3d5.js"><link rel="prefetch" href="/my-blog/assets/js/45.66cee30c.js"><link rel="prefetch" href="/my-blog/assets/js/46.c386afdd.js"><link rel="prefetch" href="/my-blog/assets/js/47.dcba28cd.js"><link rel="prefetch" href="/my-blog/assets/js/48.18b15cae.js"><link rel="prefetch" href="/my-blog/assets/js/49.9cf5b33a.js"><link rel="prefetch" href="/my-blog/assets/js/50.baa45f54.js"><link rel="prefetch" href="/my-blog/assets/js/51.dbc65c69.js"><link rel="prefetch" href="/my-blog/assets/js/52.d90a2e6f.js"><link rel="prefetch" href="/my-blog/assets/js/53.17bcab06.js"><link rel="prefetch" href="/my-blog/assets/js/54.ba77c4b4.js"><link rel="prefetch" href="/my-blog/assets/js/55.b7bae0e2.js">
    <link rel="stylesheet" href="/my-blog/assets/css/0.styles.2be7843c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/my-blog/" class="home-link router-link-active"><!----><span class="site-name">
      兿芝梅
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/my-blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/my-blog/frontEnd/" class="nav-link router-link-active">前端之路</a></div><div class="nav-item"><a href="/my-blog/life/" class="nav-link">平凡之路</a></div><div class="nav-item"><a href="https://github.com/arieltlm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/my-blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/my-blog/frontEnd/" class="nav-link router-link-active">前端之路</a></div><div class="nav-item"><a href="/my-blog/life/" class="nav-link">平凡之路</a></div><div class="nav-item"><a href="https://github.com/arieltlm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>前端日常</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>vue 故事</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>react 哈</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>项目相随</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>折腾折腾</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>碎片时间</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/my-blog/frontEnd/review/" class="sidebar-link">2018尾巴①</a></li><li><a href="/my-blog/frontEnd/review/181217-21.html" class="sidebar-link">2018尾巴②</a></li><li><a href="/my-blog/frontEnd/review/js5skill.html" class="sidebar-link">五个js技巧</a></li><li><a href="/my-blog/frontEnd/review/jsskills.html" class="sidebar-link">JS小技巧s</a></li><li><a href="/my-blog/frontEnd/review/1117-22_1.html" class="sidebar-link">前端爱好者学习周刊：第1期</a></li><li><a href="/my-blog/frontEnd/review/1123-30_2.html" class="sidebar-link">前端爱好者学习周刊：第2期</a></li><li><a href="/my-blog/frontEnd/review/1201-07_3.html" class="sidebar-link">前端爱好者学习周刊：第3期</a></li><li><a href="/my-blog/frontEnd/review/1208-15_4.html" class="sidebar-link">前端爱好者学习周刊：第4期</a></li><li><a href="/my-blog/frontEnd/review/1216-22_5.html" class="sidebar-link">前端爱好者学习周刊：第5期</a></li><li><a href="/my-blog/frontEnd/review/20_0328_6.html" class="sidebar-link">前端爱好者学习周刊：第6期</a></li><li><a href="/my-blog/frontEnd/review/20_0405_7.html" class="sidebar-link">前端爱好者学习周刊：第7期</a></li><li><a href="/my-blog/frontEnd/review/20_0412_8.html" class="active sidebar-link">前端爱好者学习周刊：第8期</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>工具收藏</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="前端爱好者学习周刊：第8期"><a href="#前端爱好者学习周刊：第8期" aria-hidden="true" class="header-anchor">#</a> 前端爱好者学习周刊：第8期</h1><blockquote><p>20200412</p></blockquote><p></p><div class="table-of-contents"><ul><li><a href="#_1-new-proxy">1.new Proxy()</a></li><li><a href="#isnan-和-number-isnan">isNaN`和`Number.isNaN</a><ul><li><a href="#_1-nan">1).NaN</a></li><li><a href="#_2-isnan">2).isNaN()</a></li><li><a href="#_3-number-isnan">3).Number.isNaN()</a></li></ul></li><li><a href="#_3-for-in和for-of">3.for in和for of</a></li><li><a href="#_4-error">4.error</a></li><li><a href="#_5-从-a-1-a-2-a-3-看隐式转换">5. 从a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3看隐式转换</a><ul><li><a href="#_1-修改getter">1).修改getter</a></li><li><a href="#_2-隐式转换tostring-valueof-symbol-toprimitive">2).隐式转换toString(),valueOf(),[Symbol.toPrimitive]</a></li></ul></li></ul></div><p></p><h2 id="_1-new-proxy"><a href="#_1-new-proxy" aria-hidden="true" class="header-anchor">#</a> 1.new Proxy()</h2><p>使用Proxy对象可以给一个对象添加自定义行为：</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">set</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Added a new property!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Accessed a property!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span>

person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'lydia'</span> <span class="token comment">// Added a new property </span>
person<span class="token punctuation">.</span>name <span class="token comment">// Accessed a property</span>
</code></pre></div><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener noreferrer">Proxy对象语法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
</code></pre></div><h2 id="isnan和number-isnan"><a href="#isnan和number-isnan" aria-hidden="true" class="header-anchor">#</a><code>isNaN</code>和<code>Number.isNaN</code></h2><blockquote><p>参考：</p><ul><li><a href="https://www.cnblogs.com/echolun/p/10874505.html" target="_blank" rel="noopener noreferrer">js中的NaN，isNaN与Number.isNaN的区别，如何判断一个值严格等于NaN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://blog.csdn.net/qq_33495944/article/details/84860760" target="_blank" rel="noopener noreferrer">Number.isNaN 与 isNaN 的区别<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote><h3 id="_1-nan"><a href="#_1-nan" aria-hidden="true" class="header-anchor">#</a> 1).<code>NaN</code></h3><p><code>NaN</code>即（<code>Not-A-Number</code>不是一个数字)；</p><ul><li><p>获取： <code>Number.NaN</code></p></li><li><p>js中唯一一个与自身不相等的存在：<code>NaN == NaN// false</code></p></li><li><p><code>NaN!==NaN</code>的原因：<code>NaN</code>只是<code>Number</code>上的一个静态属性;如<code>Number('echo')</code>会得到<code>NaN</code>，它只是为了说明这个值不是一个数字，一种表示方法，而非一个精准有效的值，因此<code>NaN</code>不能参与计算，也无法与自身比较。</p></li><li><p>产生<code>NaN</code>的情况：</p></li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'echo'</span><span class="token punctuation">)</span> <span class="token comment">//NaN</span>

<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'echo123'</span><span class="token punctuation">)</span> <span class="token comment">//NaN</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'123echo'</span><span class="token punctuation">)</span> <span class="token comment">//123</span>

<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">'时间跳跃123.1'</span><span class="token punctuation">)</span> <span class="token comment">//NaN</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">'123.1时间跳跃'</span><span class="token punctuation">)</span> <span class="token comment">//123.1</span>

<span class="token number">1</span> <span class="token operator">-</span> <span class="token string">'听风是风'</span> <span class="token comment">//NaN</span>
<span class="token number">1</span> <span class="token operator">*</span> <span class="token string">'123时间跳跃'</span> <span class="token comment">//NaN</span>
<span class="token number">1</span> <span class="token operator">/</span> <span class="token string">'echo123'</span> <span class="token comment">//NaN</span>

<span class="token number">0</span> <span class="token operator">/</span> <span class="token number">0</span> <span class="token comment">//NaN</span>
</code></pre></div><h3 id="_2-isnan"><a href="#_2-isnan" aria-hidden="true" class="header-anchor">#</a> 2).<code>isNaN()</code></h3><p><code>isNaN</code>是<code>window</code>上的方法</p><p>当我们向isNaN传递一个参数，它的本意是通过Number()方法尝试转换参数的类型为Number，如果转换成功返回false，否则转返回true，<strong>它只是判断这个参数能否转成数字而已，并不是判断是否严格等于NaN</strong>。不能转成数字即<code>NaN</code></p><div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">&quot;AB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span>              <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'123时间跳跃'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">//true</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">&quot;AB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span>              <span class="token comment">//123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'123时间跳跃'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">//NaN</span>

</code></pre></div><h3 id="_3-number-isnan"><a href="#_3-number-isnan" aria-hidden="true" class="header-anchor">#</a> 3).<code>Number.isNaN()</code></h3><p>ES6中提供了一个<code>Number.isNaN()</code>方法用于判断一个值是否严格等于<code>NaN</code></p><div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">&quot;AB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span>              <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'123时间跳跃'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">//false</span>
</code></pre></div><p><strong><code>Number.isNaN()</code> 的 <code>polyfill</code>:</strong></p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span>isNaN<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Number<span class="token punctuation">.</span><span class="token function-variable function">isNaN</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> n <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> n <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 简单的实现,利用只有 NaN 不跟自己相等的特性</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span>isNaN<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Number<span class="token punctuation">.</span><span class="token function-variable function">isNaN</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>  <span class="token keyword">return</span> value <span class="token operator">!==</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_3-for-in和for-of"><a href="#_3-for-in和for-of" aria-hidden="true" class="header-anchor">#</a> 3.for in和for of</h2><ul><li><code>for in</code>可以遍历一个对象自有的、继承的、可枚举的、非Symbol的属性</li><li><code>for of</code>可以迭代可迭代对象（包括<code>array</code>,<code>Map</code>,<code>Set</code>,<code>String</code>,<code>arguments</code>等</li></ul><h2 id="_4-error"><a href="#_4-error" aria-hidden="true" class="header-anchor">#</a> 4.error</h2><ul><li>当js找不到要访问的值的引用时，抛出<code>ReferenceErrors</code></li><li>当值不是预期类型的时，会抛出<code>TypeError</code></li><li>当你编写了一个非有效的JS时，比如<code>return</code>写成了<code>retunr</code>时，会抛出语法错误<code>SyntaxError</code></li></ul><h2 id="_5-从a-1-a-2-a-3看隐式转换"><a href="#_5-从a-1-a-2-a-3看隐式转换" aria-hidden="true" class="header-anchor">#</a> 5. 从<code>a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3</code>看隐式转换</h2><p><a href="https://www.muyiy.cn/question/program/38.html" target="_blank" rel="noopener noreferrer">【原题】-下面代码中 a 在什么情况下会打印 1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p><strong>出发点一</strong>：取<code>a</code>值时会进行<code>get</code></p><h3 id="_1-修改getter"><a href="#_1-修改getter" aria-hidden="true" class="header-anchor">#</a> 1).修改getter</h3><h4 id="_1-通过object-defineproperty来对window对象上的a属性重新定义getter"><a href="#_1-通过object-defineproperty来对window对象上的a属性重新定义getter" aria-hidden="true" class="header-anchor">#</a> (1).通过<code>Object.defineProperty</code>来对<code>window</code>对象上的<code>a</code>属性重新定义getter</h4><div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token keyword">get</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_2-new-proxy-可以给一个对象添加自定义行为"><a href="#_2-new-proxy-可以给一个对象添加自定义行为" aria-hidden="true" class="header-anchor">#</a> (2).<code>new Proxy()可以给一个对象添加自定义行为</code></h4><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
        i<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> 
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>i<span class="token operator">++</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre></div><p><strong>出发点二</strong>：<code>a == 1</code>做这个运算的时候会执行隐式转换，就会调用<code>toString()</code>,<code>valueOf()</code>,<code>[Symbol.toPrimitive]</code></p><h3 id="_2-隐式转换tostring-valueof-symbol-toprimitive"><a href="#_2-隐式转换tostring-valueof-symbol-toprimitive" aria-hidden="true" class="header-anchor">#</a> 2).隐式转换toString(),valueOf(),[Symbol.toPrimitive]</h3><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    i<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 优先级最高</span>
        <span class="token keyword">return</span> a<span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES6的生成器</span>
<span class="token keyword">const</span> a3 <span class="token operator">=</span> <span class="token punctuation">{</span>
    gn<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gn<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="symbol-toprimitive"><a href="#symbol-toprimitive" aria-hidden="true" class="header-anchor">#</a> Symbol.toPrimitive</h4><p>参考：<a href="https://segmentfault.com/a/1190000016300245" target="_blank" rel="noopener noreferrer">toString方法和valueOf方法以及Symbol.toPrimitive方法的学习<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>对象的Symbol.toPrimitive属性。指向一个方法。该对象被转化为原始类型的值时，会调用这个办法，返回该对象对应的原始类型值。
Symbol.toPrimitive被调用时,会接受一个字符串参数，表示当前运算的模式，一个有三种模式。</p><ul><li>Number:该场合需要转成数值</li><li>String:该场合需要转成字符串</li><li>Default:该场合可以转成数值，也可以转成字符串。</li></ul><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 没有 Symbol.toPrimitive 属性的对象</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//&quot;[object Object]&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//&quot;[object Object]&quot;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 拥有 Symbol.toPrimitive 属性的对象</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span>hint<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>hint <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Number场景'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>hint <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'String场景'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token string">'str'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// if(hint === 'default'){</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Default 场景'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token string">'default'</span><span class="token punctuation">;</span>
    <span class="token comment">// }</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Number场景 246</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">+</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// String场景 3default</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Default场景 default</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//String场景 str</span>
</code></pre></div></div><div class="content edit-link"><!----><!----></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/my-blog/frontEnd/review/20_0405_7.html" class="prev">
          前端爱好者学习周刊：第7期
        </a></span><span class="next"><a href="/my-blog/frontEnd/tools/">
          平常工具
        </a> →
      </span></p></div></div></div></div>
    <script src="/my-blog/assets/js/16.b1b1a09c.js" defer></script><script src="/my-blog/assets/js/app.fe075ac2.js" defer></script>
  </body>
</html>
