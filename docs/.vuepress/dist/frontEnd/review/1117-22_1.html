<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>兿芝梅 | 前端爱好者学习周刊：第1期</title>
    <meta name="description" content="只有出发，总会到达；只有出发，才会到达！">
    <link rel="shortcut icon" href="/my-blog/images/favicon.ico">
  <link rel="stylesheet" href="/my-blog/style/style.css">
    
    <link rel="preload" href="/my-blog/assets/css/0.styles.a44990d0.css" as="style"><link rel="preload" href="/my-blog/assets/js/app.fbfc4a8a.js" as="script"><link rel="preload" href="/my-blog/assets/js/29.ce4fd178.js" as="script"><link rel="preload" href="/my-blog/assets/js/65.c09233ea.js" as="script"><link rel="prefetch" href="/my-blog/assets/js/1.4dff3824.js"><link rel="prefetch" href="/my-blog/assets/js/2.3a78487d.js"><link rel="prefetch" href="/my-blog/assets/js/3.7b5cf17e.js"><link rel="prefetch" href="/my-blog/assets/js/4.f2acac87.js"><link rel="prefetch" href="/my-blog/assets/js/5.174e71a3.js"><link rel="prefetch" href="/my-blog/assets/js/6.06d8f120.js"><link rel="prefetch" href="/my-blog/assets/js/7.bd2665ec.js"><link rel="prefetch" href="/my-blog/assets/js/8.be35b7fb.js"><link rel="prefetch" href="/my-blog/assets/js/9.667979d0.js"><link rel="prefetch" href="/my-blog/assets/js/10.12b98e07.js"><link rel="prefetch" href="/my-blog/assets/js/11.e31bd3e4.js"><link rel="prefetch" href="/my-blog/assets/js/12.7a8b01bc.js"><link rel="prefetch" href="/my-blog/assets/js/13.4ee7108a.js"><link rel="prefetch" href="/my-blog/assets/js/14.81900414.js"><link rel="prefetch" href="/my-blog/assets/js/15.3175bd63.js"><link rel="prefetch" href="/my-blog/assets/js/16.2b2f48fc.js"><link rel="prefetch" href="/my-blog/assets/js/17.d7a0a28f.js"><link rel="prefetch" href="/my-blog/assets/js/18.6a104600.js"><link rel="prefetch" href="/my-blog/assets/js/19.ae30a3a6.js"><link rel="prefetch" href="/my-blog/assets/js/20.2c251ba0.js"><link rel="prefetch" href="/my-blog/assets/js/21.b058f558.js"><link rel="prefetch" href="/my-blog/assets/js/22.fe72d475.js"><link rel="prefetch" href="/my-blog/assets/js/23.2f6a5061.js"><link rel="prefetch" href="/my-blog/assets/js/24.87d59297.js"><link rel="prefetch" href="/my-blog/assets/js/25.5118d244.js"><link rel="prefetch" href="/my-blog/assets/js/26.0ac90139.js"><link rel="prefetch" href="/my-blog/assets/js/27.90c27e46.js"><link rel="prefetch" href="/my-blog/assets/js/28.c459f909.js"><link rel="prefetch" href="/my-blog/assets/js/30.5df91330.js"><link rel="prefetch" href="/my-blog/assets/js/31.75aafe70.js"><link rel="prefetch" href="/my-blog/assets/js/32.e48f55d4.js"><link rel="prefetch" href="/my-blog/assets/js/33.30d68c74.js"><link rel="prefetch" href="/my-blog/assets/js/34.95cef2a4.js"><link rel="prefetch" href="/my-blog/assets/js/35.16f26068.js"><link rel="prefetch" href="/my-blog/assets/js/36.703e5764.js"><link rel="prefetch" href="/my-blog/assets/js/37.be3cb49b.js"><link rel="prefetch" href="/my-blog/assets/js/38.aae54eb2.js"><link rel="prefetch" href="/my-blog/assets/js/39.1a0597ce.js"><link rel="prefetch" href="/my-blog/assets/js/40.904f4af4.js"><link rel="prefetch" href="/my-blog/assets/js/41.0bea28f1.js"><link rel="prefetch" href="/my-blog/assets/js/42.47bb68c7.js"><link rel="prefetch" href="/my-blog/assets/js/43.3200e808.js"><link rel="prefetch" href="/my-blog/assets/js/44.d49611fe.js"><link rel="prefetch" href="/my-blog/assets/js/45.1a35c1c4.js"><link rel="prefetch" href="/my-blog/assets/js/46.c1b317ea.js"><link rel="prefetch" href="/my-blog/assets/js/47.de7f3429.js"><link rel="prefetch" href="/my-blog/assets/js/48.3dbb59a8.js"><link rel="prefetch" href="/my-blog/assets/js/49.02844879.js"><link rel="prefetch" href="/my-blog/assets/js/50.17ed7ddd.js"><link rel="prefetch" href="/my-blog/assets/js/51.042d5e77.js"><link rel="prefetch" href="/my-blog/assets/js/52.2b2f9e27.js"><link rel="prefetch" href="/my-blog/assets/js/53.790e86ce.js"><link rel="prefetch" href="/my-blog/assets/js/54.f1279c69.js"><link rel="prefetch" href="/my-blog/assets/js/55.821543a5.js"><link rel="prefetch" href="/my-blog/assets/js/56.d620a4f9.js"><link rel="prefetch" href="/my-blog/assets/js/57.5238200b.js"><link rel="prefetch" href="/my-blog/assets/js/58.6be8c301.js"><link rel="prefetch" href="/my-blog/assets/js/59.4e3426df.js"><link rel="prefetch" href="/my-blog/assets/js/60.52d93895.js"><link rel="prefetch" href="/my-blog/assets/js/61.ab1e4419.js"><link rel="prefetch" href="/my-blog/assets/js/62.88bae1df.js"><link rel="prefetch" href="/my-blog/assets/js/63.b41072bf.js"><link rel="prefetch" href="/my-blog/assets/js/64.c473c8e0.js"><link rel="prefetch" href="/my-blog/assets/js/66.2ecb7a17.js">
    <link rel="stylesheet" href="/my-blog/assets/css/0.styles.a44990d0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/my-blog/" class="home-link router-link-active"><!----><span class="site-name">
      兿芝梅
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/my-blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/my-blog/frontEnd/" class="nav-link router-link-active">前端之路</a></div><div class="nav-item"><a href="/my-blog/life/" class="nav-link">平凡之路</a></div><div class="nav-item"><a href="https://github.com/arieltlm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/my-blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/my-blog/frontEnd/" class="nav-link router-link-active">前端之路</a></div><div class="nav-item"><a href="/my-blog/life/" class="nav-link">平凡之路</a></div><div class="nav-item"><a href="https://github.com/arieltlm/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>前端日常</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>vue 故事</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>react 哈</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>项目相随</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>折腾折腾</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>碎片时间</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/my-blog/frontEnd/review/" class="sidebar-link">2018尾巴①</a></li><li><a href="/my-blog/frontEnd/review/181217-21.html" class="sidebar-link">2018尾巴②</a></li><li><a href="/my-blog/frontEnd/review/js5skill.html" class="sidebar-link">五个js技巧</a></li><li><a href="/my-blog/frontEnd/review/jsskills.html" class="sidebar-link">JS小技巧s</a></li><li><a href="/my-blog/frontEnd/review/1117-22_1.html" class="active sidebar-link">前端爱好者学习周刊：第1期</a></li><li><a href="/my-blog/frontEnd/review/1123-30_2.html" class="sidebar-link">前端爱好者学习周刊：第2期</a></li><li><a href="/my-blog/frontEnd/review/1201-07_3.html" class="sidebar-link">前端爱好者学习周刊：第3期</a></li><li><a href="/my-blog/frontEnd/review/1208-15_4.html" class="sidebar-link">前端爱好者学习周刊：第4期</a></li><li><a href="/my-blog/frontEnd/review/1216-22_5.html" class="sidebar-link">前端爱好者学习周刊：第5期</a></li><li><a href="/my-blog/frontEnd/review/20_0328_6.html" class="sidebar-link">前端爱好者学习周刊：第6期</a></li><li><a href="/my-blog/frontEnd/review/20_0405_7.html" class="sidebar-link">前端爱好者学习周刊：第7期</a></li><li><a href="/my-blog/frontEnd/review/20_0412_8.html" class="sidebar-link">前端爱好者学习周刊：第8期</a></li><li><a href="/my-blog/frontEnd/review/20_0419_9.html" class="sidebar-link">前端爱好者学习周刊：第9期</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>工具收藏</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>解决方案</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="前端爱好者学习周刊：第1期"><a href="#前端爱好者学习周刊：第1期" aria-hidden="true" class="header-anchor">#</a> 前端爱好者学习周刊：第1期</h1><blockquote><p>2019-11-23
<div class="tag-part" data-v-3cf96cda><span class="html-bgcolor" data-v-3cf96cda>html</span></div><div class="tag-part" data-v-3cf96cda><span class="css-bgcolor" data-v-3cf96cda>css</span></div><div class="tag-part" data-v-3cf96cda><span data-v-3cf96cda>js</span></div></p></blockquote><p></p><div class="table-of-contents"><ul><li><a href="#前端爱好者学习周刊：第1期">前端爱好者学习周刊：第1期</a><ul><li><a href="#【html-css】">【Html+Css】</a><ul><li><a href="#_1-溢出文字的scss">1. 溢出文字的scss</a></li></ul></li><li><a href="#【javascript】">【JavaScript】:</a><ul><li><a href="#_1-js小技巧">1. js小技巧</a></li><li><a href="#_2-将回调写成promise">2.将回调写成Promise</a></li><li><a href="#_3-理解-javascript-执行上下文和执行栈">3.理解 Javascript 执行上下文和执行栈</a></li><li><a href="#_4-服务端渲染和客户端渲染">4.服务端渲染和客户端渲染</a></li><li><a href="#_5-javascript深入之执行上下文栈和变量对象">5.JavaScript深入之执行上下文栈和变量对象</a></li><li><a href="#_6-javascript深入之内存空间详细图解">6.JavaScript深入之内存空间详细图解</a></li><li><a href="#_7-mvvm">7.MVVM</a></li><li><a href="#_8-垃圾回收算法">8.垃圾回收算法</a></li><li><a href="#_9-问答">9.问答</a><ul><li><a href="#_1-const-声明一个只读的常量，那可以修改const的值？">1). const 声明一个只读的常量，那可以修改const的值？</a></li><li><a href="#_2-从内存来看-null-和-undefined-本质的区别是什么？">2).从内存来看 null 和 undefined 本质的区别是什么？</a></li></ul></li><li><a href="#_10-四种常见的js内存泄漏">10.四种常见的JS内存泄漏</a></li></ul></li></ul></li></ul></div><p></p><h2 id="【html-css】"><a href="#【html-css】" aria-hidden="true" class="header-anchor">#</a> 【Html+Css】</h2><h3 id="_1-溢出文字的scss"><a href="#_1-溢出文字的scss" aria-hidden="true" class="header-anchor">#</a> 1. 溢出文字的scss</h3><p><a href="https://juejin.im/post/5dd739d5f265da7de43494d4" target="_blank" rel="noopener noreferrer">给新手前端的✋5段救命🚀css代码(scss mixin)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/**
* 溢出省略号
* @param {Number} 行数
*/</span>
<span class="token atrule"><span class="token rule">@mixin</span> <span class="token function">ellipsis</span><span class="token punctuation">(</span>$<span class="token property">rowCount</span><span class="token punctuation">:</span> 1<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token atrule"><span class="token rule">@if</span> $rowCount &lt;=1</span> <span class="token punctuation">{</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
    <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token atrule"><span class="token rule">@else</span></span> <span class="token punctuation">{</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>
    <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> $rowCount<span class="token punctuation">;</span>
    <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="【javascript】"><a href="#【javascript】" aria-hidden="true" class="header-anchor">#</a> 【JavaScript】:</h2><h3 id="_1-js小技巧"><a href="#_1-js小技巧" aria-hidden="true" class="header-anchor">#</a> 1. js小技巧</h3><blockquote><p><a href="https://dev.to/hellomeghna/tips-to-write-better-conditionals-in-javascript-2189" target="_blank" rel="noopener noreferrer">Tips to write better Conditionals in JavaScript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote><ul><li>将多个if || 的操作可以做成array.includes的写法；</li></ul><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>animal <span class="token operator">===</span> <span class="token string">'dog'</span> <span class="token operator">||</span> animal <span class="token operator">===</span> <span class="token string">'cat'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`I have a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>animal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//===================</span>
<span class="token keyword">const</span> animals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'dog'</span><span class="token punctuation">,</span> <span class="token string">'cat'</span><span class="token punctuation">,</span> <span class="token string">'hamster'</span><span class="token punctuation">,</span> <span class="token string">'turtle'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 

<span class="token keyword">if</span> <span class="token punctuation">(</span>animals<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`I have a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>animal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>一个函数中，能早返回就早返回</li><li>第3条中的写的用object的形式代替switch中的Map形式之前没用过：</li></ul><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> fruitColor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'strawberry'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'pineapple'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'purple'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'grape'</span><span class="token punctuation">,</span> <span class="token string">'plum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">printFruits</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> fruitColor<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>第5条中提到的检测数组中是否每个都匹配或者存在匹配的使用<code>Array.every</code>、<code>Array.some</code></li></ul><p>想起了match和test----好吧，此二种针对于字符串</p><h3 id="_2-将回调写成promise"><a href="#_2-将回调写成promise" aria-hidden="true" class="header-anchor">#</a> 2.将回调写成Promise</h3><blockquote><p><a href="https://zellwk.com/blog/converting-callbacks-to-promises/" target="_blank" rel="noopener noreferrer">Converting callbacks to promises<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote><div class="language- line-numbers-mode"><pre class="language-text"><code>const shootPeasPromise = (...args) =&gt; {
  return new Promise((resolve, reject) =&gt; {
    // This is a not a Node styled callback. 
    // 1. data is the first argument 
    // 2. err is the second argument
    shootPeas(...args, (data, err) =&gt; {
      if (err) return reject(err)
      resolve(data)
    })
  })
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>如果有多个参数的时候，需要以数组形式，不能写成<code>resolve(data, size)</code>，正确应该是<code>resolve([data, size])</code>。因为Promise只能返回一个参数。</p><h3 id="_3-理解-javascript-执行上下文和执行栈"><a href="#_3-理解-javascript-执行上下文和执行栈" aria-hidden="true" class="header-anchor">#</a> 3.理解 Javascript 执行上下文和执行栈</h3><blockquote><p><a href="https://juejin.im/post/5bdfd3e151882516c6432c32" target="_blank" rel="noopener noreferrer">理解 Javascript 执行上下文和执行栈<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote><p><strong>执行上下文的类型</strong>:</p><ul><li>全局执行上下文</li><li>函数执行上下文</li><li>Eval 函数执行上下文</li></ul><p><strong>执行栈</strong>: LIFO（后进先出）结构</p><p><strong>执行上下文是如何被创建的</strong>:</p><ul><li><p>1）创建阶段；</p><ul><li>确定 this 的值，也被称为 This Binding。</li><li>LexicalEnvironment（词法环境） 组件被创建。</li><li>VariableEnvironment（变量环境） 组件被创建。</li></ul><p><strong>This Binding:</strong></p><p>在全局执行上下文中，this 的值指向全局对象，在浏览器中，this 的值指向 window 对象。
在函数执行上下文中，this 的值取决于函数的调用方式。如果它被一个对象引用调用，那么 this 的值被设置为该对象，否则 this 的值被设置为全局对象或 undefined（严格模式下）。例如：</p><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>  
  name<span class="token punctuation">:</span> <span class="token string">'peter'</span><span class="token punctuation">,</span>  
  birthYear<span class="token punctuation">:</span> <span class="token number">1994</span><span class="token punctuation">,</span>  
  calcAge<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2018</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>birthYear<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>

person<span class="token punctuation">.</span><span class="token function">calcAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 24</span>
<span class="token comment">// 'this' 指向 'person', 因为 'calcAge' 是被 'person' 对象引用调用的。</span>

<span class="token keyword">let</span> calculateAge <span class="token operator">=</span> person<span class="token punctuation">.</span>calcAge<span class="token punctuation">;</span>  
<span class="token function">calculateAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//NaN</span>
<span class="token comment">// 'this' 指向全局 window 对象,因为没有给出任何对象引用</span>


</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>词法环境有两种类型</strong>:</p><ul><li>全局环境</li><li>函数环境</li></ul><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token comment">//{&quot;0&quot;: 2,&quot;1&quot;: 3, callee:f foo(a,b)...}</span>
  <span class="token keyword">var</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>环境记录有两种类型</strong>：</p><ul><li>声明性环境记录</li><li>对象环境记录</li></ul><p>变量环境指的是var声明的变量。let和const声明的变量在创建阶段是未初始化，而var声明的在创建阶段是undefined，所以var的变量提升以及let和const的提前调用报错可解；</p></li><li><p>2）执行阶段</p></li></ul><p>完成对所有变量的分配，最后执行代码</p><h3 id="_4-服务端渲染和客户端渲染"><a href="#_4-服务端渲染和客户端渲染" aria-hidden="true" class="header-anchor">#</a> 4.服务端渲染和客户端渲染</h3><p><a href="https://www.cnblogs.com/xxm980617/p/10514748.html" target="_blank" rel="noopener noreferrer">服务端渲染和客户端渲染<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p><strong>客户端请求</strong>:</p><p>在客户端渲染中， 客户端至少要对服务端发送两次请求</p><ul><li><p>(1)用户在浏览器输入请求的地址例如：172.0.0.1:8080 到服务器, 服务器接受到客户端的请求拿到一个没有被数据渲染的空页面</p></li><li><p>(2)客户端拿到服务端的空字符串页面，然后从上往下开始执行里面的代码，当执行到script中有请求或者渲染等代码时，就会对服务器再次发出请求</p></li><li><p>(3)服务端接收到客户端的第二次请求，就把响应的数据发送给客户端，然后客户端再进行渲染</p></li></ul><p><strong>服务端渲染</strong>:</p><ul><li>1）客户端只发送一次请求，服务端直接返回给客户端一个被渲染好的页面</li></ul><p><strong>两者的区别，以及什么场合使用</strong>:</p><ul><li><p>1、客户端渲染需要对服务端进行两次请求，响应的开销较大，而服务端渲染只需要客户端对服务端进行一次请求</p></li><li><p>2、如何查看一个网页是客户端渲染还是服务端渲染：可以通过右键查看源代码的形式</p><p>客户端渲染: 右击查看源代码找不到内容</p><p>服务段渲染：是可以在源代码中找到内容的</p></li><li><p>3、网站一般都是用客户端渲染和服务端渲染结合的形式</p></li><li><p>4、正真的网站既不是纯异步，也不是纯服务端渲染，而是两者结合</p></li><li><p>5、商品的商品列表采用的是服务端渲染，目的是为了SEO搜索引擎优化，而他的商品评论为了用户体验，用户体验更好</p></li><li><p>6、服务端渲染可以被爬虫抓取到，客户端渲染爬虫抓取不到</p></li></ul><h3 id="_5-javascript深入之执行上下文栈和变量对象"><a href="#_5-javascript深入之执行上下文栈和变量对象" aria-hidden="true" class="header-anchor">#</a> 5.JavaScript深入之执行上下文栈和变量对象</h3><p><a href="https://www.muyiy.cn/blog/1/1.2.html#%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87" target="_blank" rel="noopener noreferrer">JavaScript深入之执行上下文栈和变量对象<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>JS 引擎并不是一行一行地分析和执行程序，而是一段一段地分析执行，会先进行编译阶段然后才是执行阶段。</p><ul><li><p>变量提升</p></li><li><p>函数提升</p></li><li><p>函数声明优先级高于变量声明---
举例如下：</p><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// foo2</span>
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// foo1，foo重新赋值</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'foo2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// foo1</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li></ul><hr><p><strong>函数上下文</strong>：
在函数上下文中，用活动对象(activation object, AO)来表示变量对象。</p><p>活动对象和变量对象的区别在于</p><ul><li>1、变量对象（VO）是规范上或者是JS引擎上实现的，并不能在JS环境中直接访问。</li><li>2、当进入到一个执行上下文后，这个变量对象才会被激活，所以叫活动对象（AO），这时候活动对象上的各种属性才能被访问。</li></ul><p><strong>执行过程两个阶段</strong>：</p><ul><li>进入执行上下文</li><li>代码执行</li></ul><p>总结如下：</p><blockquote><p>1、全局上下文的变量对象初始化是全局对象</p></blockquote><blockquote><p>2、函数上下文的变量对象初始化只包括 Arguments 对象</p></blockquote><blockquote><p>3、在进入执行上下文时会给变量对象添加形参、函数声明、变量声明等初始的属性值</p></blockquote><blockquote><p>4、在代码执行阶段，会再次修改变量对象的属性值</p></blockquote><h3 id="_6-javascript深入之内存空间详细图解"><a href="#_6-javascript深入之内存空间详细图解" aria-hidden="true" class="header-anchor">#</a> 6.JavaScript深入之内存空间详细图解</h3><p><a href="https://www.muyiy.cn/blog/1/1.3.html#%E6%A0%88%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">JavaScript深入之内存空间详细图解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p><strong>变量的存放</strong>：</p><p>基本数据类型（Undefined、Null、Boolean、Number 、String和Symbol）存放在栈中，对象的地址存放在栈中，对象的数值放在堆中。当查询引用类型的变量时， 先从栈中读取内存地址， 然后再通过地址找到堆中的值。</p><p>栈快堆慢。</p><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'前端开发'</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

a <span class="token comment">// null</span>
b <span class="token comment">//  { name: '前端开发' }</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>null是基本类型，a = null之后只是把a存储在栈内存中地址改变成了基本类型null，并不会影响堆内存中的对象，所以b的值不受影响</p></blockquote><h3 id="_7-mvvm"><a href="#_7-mvvm" aria-hidden="true" class="header-anchor">#</a> 7.MVVM</h3><p><strong>什么是 mvvm？</strong>:</p><p>MVVM 是 Model-View-ViewModel 的缩写。mvvm 是一种设计思想。Model 层代表数据模型，也可以在 Model 中定义数据修改和操作的业务逻辑；View 代表 UI 组件，它负责将数据模型转化成 UI 展现出来，ViewModel 是一个同步 View 和 Model 的对象。</p><p>在 MVVM 架构下，View 和 Model 之间并没有直接的联系，而是通过 ViewModel 进行交互，Model 和 ViewModel 之间的交互是双向的， 因此 View 数据的变化会同步到 Model 中，而 Model 数据的变化也会立即反应到 View 上。</p><p>ViewModel 通过双向数据绑定把 View 层和 Model 层连接了起来，而 View 和 Model 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需关注业务逻辑，不需要手动操作 DOM, 不需要关注数据状态的同步问题，复杂的数据状态维护完全由 MVVM 来统一管理。</p><p><strong>mvvm 和 mvc 区别？</strong>:</p><p>mvc 和 mvvm 其实区别并不大。都是一种设计思想。主要就是 mvc 中 Controller 演变成 mvvm 中的 viewModel。<strong>mvvm 主要解决了 mvc 中大量的 DOM 操作使页面渲染性能降低，加载速度变慢，影响用户体验。</strong> 和当 Model 频繁发生变化，开发者需要主动更新到 View 。</p><h3 id="_8-垃圾回收算法"><a href="#_8-垃圾回收算法" aria-hidden="true" class="header-anchor">#</a> 8.垃圾回收算法</h3><p><strong>垃圾回收算法：</strong></p><ul><li>引用计数</li></ul><blockquote><p>现代浏览器已不再使用，IE依旧使用</p></blockquote><blockquote><p>引用计数算法定义“内存不再使用”的标准很简单，就是看一个对象是否有指向它的引用。如果没有其他对象指向它了，说明该对象已经不再需要了。</p><p>引用计数致命————循环引用：如果两个对象相互引用，尽管他们已不再使用，但是垃圾回收器不会进行回收，最终可能会导致内存泄露</p></blockquote><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>上面的就是一个循环引用。</p></blockquote><blockquote><p>变量div有事件处理函数的引用，同时事件处理函数也有div的引用，因为div变量可在函数内被访问，所以循环引用就出现了。</p></blockquote><ul><li>标记清除（常用）</li></ul><blockquote><p>标记清除算法将“不再使用的对象”定义为“无法到达的对象”。即从根部（在JS中就是全局对象）出发定时扫描内存中的对象，凡是能从根部到达的对象，保留。那些从根部出发无法触及到的对象被标记为不再使用，稍后进行回收。</p><p>现在对于主流浏览器来说，只需要切断需要回收的对象与根部的联系。</p><p><strong>算法步骤：</strong></p><ul><li>1）、垃圾回收器创建了一个“roots”列表。roots 通常是代码中全局变量的引用。JavaScript 中，“window” 对象是一个全局变量，被当作 root 。window 对象总是存在，因此垃圾回收器可以检查它和它的所有子对象是否存在（即不是垃圾）；</li></ul></blockquote><blockquote><ul><li>2）、所有的 roots 被检查和标记为激活（即不是垃圾）。所有的子对象也被递归地检查。从 root 开始的所有对象如果是可达的，它就不被当作垃圾。</li></ul></blockquote><blockquote><ul><li>3）、所有未被标记的内存会被当做垃圾，收集器现在可以释放内存，归还给操作系统了。</li></ul><p><strong>最常见的内存泄露一般都与DOM元素绑定有关：</strong></p></blockquote><div class="language-js line-numbers-mode"><pre class="language-js"><code>email<span class="token punctuation">.</span>message <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>“div”<span class="token punctuation">)</span><span class="token punctuation">;</span>
displayList<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>email<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
<span class="token comment">// 稍后从displayList中清除DOM元素</span>
displayList<span class="token punctuation">.</span><span class="token function">removeAllChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>上面代码中，div元素已经从DOM树中清除，但是该div元素还绑定在email对象中，所以如果email对象存在，那么该div元素就会一直保存在内存中</p></blockquote><h3 id="_9-问答"><a href="#_9-问答" aria-hidden="true" class="header-anchor">#</a> 9.问答</h3><h4 id="_1-const-声明一个只读的常量，那可以修改const的值？"><a href="#_1-const-声明一个只读的常量，那可以修改const的值？" aria-hidden="true" class="header-anchor">#</a> 1). const 声明一个只读的常量，那可以修改const的值？</h4><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 为 foo 添加一个属性，可以成功</span>
foo<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>prop <span class="token comment">// 123</span>

<span class="token comment">// 将 foo 指向另一个对象，就会报错</span>
foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: &quot;foo&quot; is read-only</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>const实际上保证的，并不是变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动。对于简单类型的数据（数值、字符串、布尔值），值就保存在变量指向的那个内存地址，因此等同于常量。但对于复合类型的数据（主要是对象和数组），变量指向的内存地址，保存的只是一个指向实际数据的指针，const只能保证这个指针是固定的（即总是指向另一个固定的地址），至于它指向的数据结构是不是可变的，就完全不能控制了。因此，将一个对象声明为常量必须非常小心</p><h4 id="_2-从内存来看-null-和-undefined-本质的区别是什么？"><a href="#_2-从内存来看-null-和-undefined-本质的区别是什么？" aria-hidden="true" class="header-anchor">#</a> 2).从内存来看 null 和 undefined 本质的区别是什么？</h4><p>给一个全局变量赋值为null，相当于将这个变量的指针对象以及值清空，如果是给对象的属性 赋值为null，或者局部变量赋值为null,相当于给这个属性分配了一块空的内存，然后值为null， JS会回收全局变量为null的对象。</p><p>给一个全局变量赋值为undefined，相当于将这个对象的值清空，但是这个对象依旧存在,如果是给对象的属性赋值 为undefined，说明这个值为空值</p><p>声明了一个变量，但未对其初始化时，这个变量的值就是undefined，它是 JavaScript 基本类型 之一。</p><p>对于尚未声明过的变量，只能执行一项操作，即使用typeof操作符检测其数据类型，使用其他的操作都会报错。</p><p>值 null 特指对象的值未设置，它是 JavaScript 基本类型 之一。</p><p>值 null 是一个字面量，它不像undefined 是全局对象的一个属性。null 是表示缺少的标识，指示变量未指向任何对象。</p><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// foo不存在，它从来没有被定义过或者是初始化过：</span>
foo<span class="token punctuation">;</span>
<span class="token string">&quot;ReferenceError: foo is not defined&quot;</span>

<span class="token comment">// foo现在已经是知存在的，但是它没有类型或者是值：</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// null</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_10-四种常见的js内存泄漏"><a href="#_10-四种常见的js内存泄漏" aria-hidden="true" class="header-anchor">#</a> 10.四种常见的JS内存泄漏</h3><p><a href="https://www.muyiy.cn/blog/1/1.5.html#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95" target="_blank" rel="noopener noreferrer">JavaScript深入之4类常见内存泄漏及如何避免<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><ul><li>1).意外的全局变量</li></ul><blockquote><p>解决办法：在 JavaScript 文件头部加上 'use strict'，使用严格模式避免意外的全局变量，此时上例中的this指向undefined。如果必须使用全局变量存储大量数据时，确保用完以后把它设置为 null 或者重新定义。</p></blockquote><ul><li>2).被遗忘的计时器或回调函数</li></ul><blockquote><p>对于定时器----及时清理定时器；</p></blockquote><div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">onClick</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'text'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> onClick<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>现代的浏览器（包括 IE 和 Microsoft Edge）使用了更先进的垃圾回收算法（标记清除），已经可以正确检测和处理循环引用了。即回收节点内存时，不必非要调用 removeEventListener 了</p></blockquote><ul><li>3).脱离 DOM 的引用</li></ul><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> elements <span class="token operator">=</span> <span class="token punctuation">{</span>
    button<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    image<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    text<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">doStuff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    image<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http://some.url/image'</span><span class="token punctuation">;</span>
    button<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 更多逻辑</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">removeButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 按钮是 body 的后代元素</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 此时，仍旧存在一个全局的 #button 的引用</span>
    <span class="token comment">// elements 字典。button 元素仍旧在内存中，不能被 GC 回收。</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>4).闭包</li></ul><blockquote><p>闭包的关键是匿名函数可以访问父级作用域的变量。</p></blockquote></div><div class="content edit-link"><!----><!----></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/my-blog/frontEnd/review/jsskills.html" class="prev">
          JS小技巧s
        </a></span><span class="next"><a href="/my-blog/frontEnd/review/1123-30_2.html">
          前端爱好者学习周刊：第2期
        </a> →
      </span></p></div></div></div></div>
    <script src="/my-blog/assets/js/29.ce4fd178.js" defer></script><script src="/my-blog/assets/js/65.c09233ea.js" defer></script><script src="/my-blog/assets/js/app.fbfc4a8a.js" defer></script>
  </body>
</html>
