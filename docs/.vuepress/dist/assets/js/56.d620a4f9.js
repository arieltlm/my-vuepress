(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{183:function(t,e,i){t.exports=i.p+"assets/img/broswer-cache.7b8229b8.png"},247:function(t,e,i){"use strict";i.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"浏览器缓存机制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存机制","aria-hidden":"true"}},[this._v("#")]),this._v(" 浏览器缓存机制")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("20191205")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:i(183),alt:"浏览器缓存机制"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"强制缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#强制缓存","aria-hidden":"true"}},[this._v("#")]),this._v(" 强制缓存")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("服务器通知浏览器一个缓存时间，在缓存时间内，下次请求，直接用缓存，不在时间内，执行比较缓存策略。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"expires"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#expires","aria-hidden":"true"}},[this._v("#")]),this._v(" Expires")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("HTTP1.0")]),e("li",[this._v("缺点：服务器和客户端时间不一致，导致不精确")]),e("li",[this._v("服务器返回过期时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"cache-control"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cache-control","aria-hidden":"true"}},[this._v("#")]),this._v(" Cache-control")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("private:  客户端可以缓存")]),e("li",[this._v("public:   客户端和代理服务器都可缓存（前端的同学，可以认为public和private是一样的）")]),e("li",[this._v("max-age=xxx:   缓存的内容将在 xxx 秒后失效")]),e("li",[this._v("no-cache:    需要使用协商缓存来验证缓存数据")]),e("li",[this._v("no-store:   所有内容都不会缓存，强制缓存，协商缓存都不会触发（对于前端开发来说，缓存越多越好，so...基本上和它说886）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"协商缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存","aria-hidden":"true"}},[this._v("#")]),this._v(" 协商缓存")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("将缓存信息中的Etag和Last-Modified通过请求发送给服务器，由服务器校验，返回304状态码时，浏览器直接使用缓存。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"last-modified-if-modified-since"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#last-modified-if-modified-since","aria-hidden":"true"}},[this._v("#")]),this._v(" Last-Modified  /  If-Modified-Since")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("服务器返回Last-Modified：时间（Fri, 03 Apr 2020 06:57:08 GMT)")]),e("li",[this._v("客户端请求时带上if-m-s：时间;服务器与资源最后时间对比;有改动：200+资源\n无改动：304（去缓存中取）")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"etag-if-none-match"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#etag-if-none-match","aria-hidden":"true"}},[this._v("#")]),this._v(" Etag  /  If-None-Match")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("优先级高于last-modified")]),e("li",[this._v("服务器返回Etag:标识符（哈希/某算法生成"),e("code",[this._v('[W/"134308-1585897028000"]')]),this._v(")")]),e("li",[this._v("客户端请求时带上If-None-Match:标识符\n与被请求资源的唯一标识进行比对;\n有改动：200+资源;\n无改动：304（去缓存中取）")])])}],s=i(0),a=Object(s.a)({},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[t._m(0),t._m(1),i("p",[i("strong",[t._v("文章内容详细查看博客园上早期学习的："),i("a",{attrs:{href:"https://www.cnblogs.com/gtlm/p/7797743.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("缓存机制的理解"),i("OutboundLink")],1)])]),i("p",[i("a",{attrs:{href:"https://segmentfault.com/q/1010000004200644",target:"_blank",rel:"noopener noreferrer"}},[t._v("为什么有了etag还需要last-modified?"),i("OutboundLink")],1)]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),i("p",[i("a",{attrs:{href:"https://juejin.im/post/5c136bd16fb9a049d37efc47",target:"_blank",rel:"noopener noreferrer"}},[t._v("前端缓存最佳实践"),i("OutboundLink")],1),t._v("分别指出了强制缓存和协商缓存的问题，并给出了一些最佳缓存实践，可学习；")])])},r,!1,null,null,null);e.default=a.exports}}]);